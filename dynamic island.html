<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Dynamic Island</title>
	<style>
		body {
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
				"Helvetica Neue", Arial, sans-serif;
			height: 100vh;
			background-color: #968b6d;
			margin: 0;
		}

		.button-test {
			width: 42%;
			height: 120px;
			top: 70%;
			position: relative;
			border-radius: 20px;
			border: 0px;
			background: #d6c9a3;
			position: fixed;
			font-size: medium;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			user-select: none;
		}

		.dynamic-island {
			position: fixed;
			top: 40px;
			left: 50%;
			transform: translateX(-50%) scale(1);
			transform-origin: top center;
			width: 120px;
			height: 40px;
			background-color: black;
			border-radius: 20px;
			color: rgb(255, 255, 255);
			text-align: center;
			transition: width 0.5s cubic-bezier(0.2, 0.8, 0.4, 1),
				height 0.5s cubic-bezier(0.2, 0.8, 0.4, 1) 0.03s,
				border-radius 0.5s cubic-bezier(0.2, 0.8, 0.4, 1) 0.2s;
			overflow: hidden;
			-webkit-tap-highlight-color: none;
			touch-action: manipulation;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.dynamic-island.expanded-music {
			width: 200px;
			height: 100px;
			border-radius: 25px;
			animation: expandElastic 0.6s cubic-bezier(0.15, 0, 0.25, 1) 0.07s forwards;
		}

		.dynamic-island.expanded-wide {
			width: 300px;
			animation: expandElastic 0.6s cubic-bezier(0.15, 0, 0.25, 1) 0.07s forwards;
		}

		.dynamic-content {
			opacity: 0;
			visibility: hidden;
			user-select: none;
			transition: opacity 0.5s, visibility 0s 0.5s;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100%;
			width: 100%;
			line-height: 1;
		}

		.dynamic-content p {
			margin: 0;
			line-height: 1;
			margin-top: -2px;
			/* Adjust this value to position the text slightly higher */
		}

		.dynamic-island.expanded-music .dynamic-content {
			opacity: 1;
			visibility: visible;
			transition: opacity 0.5s, visibility 0s 0s;
		}

		@keyframes expandElastic {
			0% {
				transform: translateX(-50%) scaleX(1);
			}

			20% {
				transform: translateX(-50%) scaleX(1.08);
			}

			100% {
				transform: translateX(-50%) scaleX(1);
			}
		}
	</style>
</head>

<body>
	<div class="dynamic-island" id="dynamicIsland"></div>
	<button class="button-test" id="buttonLeft" style="left: 5%;">Toggle Music</button>
	<button class="button-test" id="buttonRight" style="right: 5%;">Toggle Notifications</button>

	<script>
		function removeExpandedClasses(element) {
			element.classList.forEach((className) => {
				if (className.startsWith("expanded-")) {
					element.classList.remove(className);
				}
			});
		}

		document.getElementById("buttonLeft").addEventListener("click", () => {
			const dynamicIsland = document.getElementById("dynamicIsland");
			if (!dynamicIsland.classList.contains("expanded-music")) {
				removeExpandedClasses(dynamicIsland); // Remove any "expanded-*" class
			}
			dynamicIsland.classList.toggle("expanded-music"); // Toggle the desired class
		});

		document.getElementById("buttonRight").addEventListener("click", () => {
			const dynamicIsland = document.getElementById("dynamicIsland");
			if (!dynamicIsland.classList.contains("expanded-wide")) {
				removeExpandedClasses(dynamicIsland); // Remove any "expanded-*" class
			}
			dynamicIsland.classList.toggle("expanded-wide"); // Toggle the desired class
		});

	</script>
</body>

</html>